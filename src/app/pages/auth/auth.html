<div class="login-container">
  <!-- Left Side -->
  <div class="left-panel">
    <div class="overlay"></div>
    <div class="content">
      <div class="logo">
        <img src="/logo/logo.png" alt="Sta2jerne" />
      </div>

      <div class="hero-text">
        <h1>Find the help you need, when you need it.</h1>
        <p>
          From expert butlers to skilled freelancers, discover trusted professionals across Lebanon
          ready to assist you today.
        </p>
      </div>

      <div class="trust-badge">
        <div class="avatars">
          <div class="avatar"></div>
          <div class="avatar"></div>
          <div class="avatar"></div>
        </div>
        <span>Trusted by 10,000+ in Beirut</span>
      </div>
    </div>
  </div>

  <!-- Right Side -->
  <div class="right-panel">
    <div class="auth-card">
      <mat-tab-group class="auth-tabs" animationDuration="0ms">
        <mat-tab label="Log In">
          <div class="tab-body">
            <h2>Welcome back</h2>
            <p class="subtitle">Please enter your details to sign in.</p>

            <div class="social-row">
              <button mat-stroked-button type="button">
                <img class="social-icon" src="/icons/google-color.svg" alt="Google" />
              </button>
              <button mat-stroked-button type="button">
                <img class="social-icon" src="/icons/microsoft-color.svg" alt="Microsoft" />
              </button>
            </div>

            <div class="divider">
              <mat-divider></mat-divider>
              <span>Or continue with email</span>
              <mat-divider></mat-divider>
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" class="auth-form" novalidate>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  type="email"
                  placeholder="name@example.com"
                  formControlName="email"
                />
                <mat-icon matSuffix>mail</mat-icon>
                <mat-error *ngIf="loginForm.get('email')?.hasError('required')"
                  >Email is required</mat-error
                >
                <mat-error *ngIf="loginForm.get('email')?.hasError('email')"
                  >Enter a valid email</mat-error
                >
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Password</mat-label>
                <input
                  matInput
                  [type]="hideLoginPassword ? 'password' : 'text'"
                  placeholder="••••••••"
                  formControlName="password"
                />
                <button
                  mat-icon-button
                  type="button"
                  matSuffix
                  (click)="togglePasswordVisibility('login')"
                  [attr.aria-label]="hideLoginPassword ? 'Show password' : 'Hide password'"
                >
                  <mat-icon>{{ hideLoginPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <mat-error *ngIf="loginForm.get('password')?.hasError('required')"
                  >Password is required</mat-error
                >
                <mat-error *ngIf="loginForm.get('password')?.hasError('minlength')"
                  >Use at least 6 characters</mat-error
                >
              </mat-form-field>

              <div class="form-meta">
                <mat-checkbox class="remember-checkbox" formControlName="remember">
                  Remember me
                </mat-checkbox>
                <a class="forgot-link" href="#">Forgot Password?</a>
              </div>

              <button
                mat-flat-button
                color="primary"
                class="submit-btn"
                type="submit"
                [disabled]="loginForm.invalid || loginLoading"
              >
                {{ loginLoading ? 'Logging in...' : 'Log In' }}
              </button>
            </form>

            <p class="terms">
              By continuing, you agree to our
              <a href="#">Terms of Service</a>
              and
              <a href="#">Privacy Policy</a>.
            </p>
          </div>
        </mat-tab>
        <mat-tab label="Sign Up">
          <div class="tab-body">
            <h2>Create your account</h2>
            <p class="subtitle">Only a few quick details to get started.</p>

            <form
              [formGroup]="signupForm"
              (ngSubmit)="onSignupSubmit()"
              class="auth-form"
              novalidate
            >
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  type="email"
                  placeholder="name@example.com"
                  formControlName="email"
                />
                <mat-icon matSuffix>mail</mat-icon>
                <mat-error *ngIf="signupForm.get('email')?.hasError('required')"
                  >Email is required</mat-error
                >
                <mat-error *ngIf="signupForm.get('email')?.hasError('email')"
                  >Enter a valid email</mat-error
                >
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Password</mat-label>
                <input
                  matInput
                  [type]="hideSignupPassword ? 'password' : 'text'"
                  placeholder="••••••••"
                  formControlName="password"
                />
                <button
                  mat-icon-button
                  type="button"
                  matSuffix
                  (click)="togglePasswordVisibility('signup')"
                  [attr.aria-label]="hideSignupPassword ? 'Show password' : 'Hide password'"
                >
                  <mat-icon>{{ hideSignupPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <mat-error *ngIf="signupForm.get('password')?.hasError('required')"
                  >Password is required</mat-error
                >
                <mat-error *ngIf="signupForm.get('password')?.hasError('minlength')"
                  >Use at least 6 characters</mat-error
                >
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Confirm password</mat-label>
                <input
                  matInput
                  [type]="hideSignupConfirm ? 'password' : 'text'"
                  placeholder="••••••••"
                  formControlName="confirmPassword"
                />
                <button
                  mat-icon-button
                  type="button"
                  matSuffix
                  (click)="togglePasswordVisibility('signupConfirm')"
                  [attr.aria-label]="hideSignupConfirm ? 'Show password' : 'Hide password'"
                >
                  <mat-icon>{{ hideSignupConfirm ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <mat-error *ngIf="signupForm.get('confirmPassword')?.hasError('required')">
                  Please confirm your password
                </mat-error>
                <mat-error
                  *ngIf="
                    signupForm.hasError('passwordMismatch') &&
                    signupForm.get('confirmPassword')?.touched
                  "
                >
                  Passwords do not match
                </mat-error>
              </mat-form-field>

              <button
                mat-flat-button
                color="primary"
                class="submit-btn"
                type="submit"
                [disabled]="signupForm.invalid || signupLoading"
              >
                {{ signupLoading ? 'Creating account...' : 'Create account' }}
              </button>
            </form>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
